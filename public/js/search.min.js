
$(function () {
    $(".input-search").val(""), $(".search_list").hide();
    var o = config.routes.searchPost;
    $.ajaxSetup({ headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") } }),
        $(".input-search").keyup(function () {
            (data = { search: $(this).val() }),
                $(".input-search").val(data.search),
                data.search.length > 1
                    ? $.ajax({
                          type: "POST",
                          url: o,
                          data: data,
                          beforeSend: function () {
                              $(".search_list").hide(), $(".lds-ellipsis").show();
                          },
                          success: function (o) {
                              $(".search_list").show(), o.length > 0 ? $(".search_list").html(o) : $(".search_list").html("Siziň gözlegiňize görä haryt tapylmady.");
                          },
                          error: function (o) {
                              console.log(o.responseJSON);
                          },
                          complete: function () {
                              $(".lds-ellipsis").hide();
                          },
                      })
                    : $(".search_list").hide(),
                $(".input-search").focus(function () {
                    data.search.length > 0 && $(".search_list").html().length > 0 ? $(".search_list").show() : $(".search_list").hide();
                });
        });

        
});
